oldForest
mirkwood <- randomForest( drug∼.,data=tree110  ,mtry=12,ntree=1000)
mirkwood
fangorn <- randomForest( drug∼.,data=tree120  ,mtry=3,ntree=2500)
set.seed(25000)
#BAROOM dont be hasty now
oldForest <- randomForest( drug∼.,data=tree105  ,mtry=3,ntree=2500)
oldForest
mirkwood <- randomForest( drug∼.,data=tree110  ,mtry=3,ntree=1000)
mirkwood
fangorn <- randomForest( drug∼.,data=tree120  ,mtry=3,ntree=2500)
fangorn
#tree optimization for 5% tree
oob.error.oldForest <- data.frame(
Trees=rep(1:nrow(oldForest$err.rate), times=3),
Type=rep(c("OOB", "1", "0"), each=nrow(oldForest$err.rate)),
Error=c(oldForest$err.rate[,"OOB"],
oldForest$err.rate[,"1"],
oldForest$err.rate[,"0"]))
#tree optimization for 10% tree
oob.error.mirkwood <- data.frame(
Trees=rep(1:nrow(mirkwood$err.rate), times=3),
Type=rep(c("OOB", "1", "0"), each=nrow(mirkwood$err.rate)),
Error=c(mirkwood$err.rate[,"OOB"],
mirkwood$err.rate[,"1"],
mirkwood$err.rate[,"0"]))
#tree optimization for 20% tree
oob.error.fangorn<- data.frame(
Trees=rep(1:nrow(fangorn$err.rate), times=3),
Type=rep(c("OOB", "1", "0"), each=nrow(fangorn$err.rate)),
Error=c(fangorn$err.rate[,"OOB"],
fangorn$err.rate[,"1"],
fangorn$err.rate[,"0"]))
#tree optimization plot for 5% tree
ggplot(data=oob.error.oldForest, aes(x=Trees, y=Error)) +
geom_line(aes(color=Type))+ggtitle("forest of 5% variance")
#tree optimization plot for 10% tree
ggplot(data=oob.error.mirkwood, aes(x=Trees, y=Error)) +
geom_line(aes(color=Type))+ggtitle("forest of 10% variance")
#tree optimization for 20% tree
ggplot(data=oob.error.fangorn, aes(x=Trees, y=Error)) +
geom_line(aes(color=Type))+ggtitle("forest of 20% variance")
set.seed(25000)
#BAROOM dont be hasty now
oldForest <- randomForest( drug∼.,data=tree105  ,mtry=3,ntree=3000)
oldForest
mirkwood <- randomForest( drug∼.,data=tree110  ,mtry=3,ntree=1500)
mirkwood
fangorn <- randomForest( drug∼.,data=tree120  ,mtry=3,ntree=2000)
fangorn
#tree optimization for 5% tree
oob.error.oldForest <- data.frame(
Trees=rep(1:nrow(oldForest$err.rate), times=3),
Type=rep(c("OOB", "1", "0"), each=nrow(oldForest$err.rate)),
Error=c(oldForest$err.rate[,"OOB"],
oldForest$err.rate[,"1"],
oldForest$err.rate[,"0"]))
#tree optimization for 10% tree
oob.error.mirkwood <- data.frame(
Trees=rep(1:nrow(mirkwood$err.rate), times=3),
Type=rep(c("OOB", "1", "0"), each=nrow(mirkwood$err.rate)),
Error=c(mirkwood$err.rate[,"OOB"],
mirkwood$err.rate[,"1"],
mirkwood$err.rate[,"0"]))
#tree optimization for 20% tree
oob.error.fangorn<- data.frame(
Trees=rep(1:nrow(fangorn$err.rate), times=3),
Type=rep(c("OOB", "1", "0"), each=nrow(fangorn$err.rate)),
Error=c(fangorn$err.rate[,"OOB"],
fangorn$err.rate[,"1"],
fangorn$err.rate[,"0"]))
#tree optimization plot for 5% tree
ggplot(data=oob.error.oldForest, aes(x=Trees, y=Error)) +
geom_line(aes(color=Type))+ggtitle("forest of 5% variance")
#tree optimization plot for 10% tree
ggplot(data=oob.error.mirkwood, aes(x=Trees, y=Error)) +
geom_line(aes(color=Type))+ggtitle("forest of 10% variance")
#tree optimization for 20% tree
ggplot(data=oob.error.fangorn, aes(x=Trees, y=Error)) +
geom_line(aes(color=Type))+ggtitle("forest of 20% variance")
set.seed(25000)
#BAROOM dont be hasty now
oldForest <- randomForest( drug∼.,data=tree105  ,mtry=3,ntree=3500)
oldForest
mirkwood <- randomForest( drug∼.,data=tree110  ,mtry=3,ntree=2000)
mirkwood
fangorn <- randomForest( drug∼.,data=tree120  ,mtry=3,ntree=2500)
fangorn
#tree optimization for 5% tree
oob.error.oldForest <- data.frame(
Trees=rep(1:nrow(oldForest$err.rate), times=3),
Type=rep(c("OOB", "1", "0"), each=nrow(oldForest$err.rate)),
Error=c(oldForest$err.rate[,"OOB"],
oldForest$err.rate[,"1"],
oldForest$err.rate[,"0"]))
#tree optimization for 10% tree
oob.error.mirkwood <- data.frame(
Trees=rep(1:nrow(mirkwood$err.rate), times=3),
Type=rep(c("OOB", "1", "0"), each=nrow(mirkwood$err.rate)),
Error=c(mirkwood$err.rate[,"OOB"],
mirkwood$err.rate[,"1"],
mirkwood$err.rate[,"0"]))
#tree optimization for 20% tree
oob.error.fangorn<- data.frame(
Trees=rep(1:nrow(fangorn$err.rate), times=3),
Type=rep(c("OOB", "1", "0"), each=nrow(fangorn$err.rate)),
Error=c(fangorn$err.rate[,"OOB"],
fangorn$err.rate[,"1"],
fangorn$err.rate[,"0"]))
#tree optimization plot for 5% tree
ggplot(data=oob.error.oldForest, aes(x=Trees, y=Error)) +
geom_line(aes(color=Type))+ggtitle("forest of 5% variance")
#tree optimization plot for 10% tree
ggplot(data=oob.error.mirkwood, aes(x=Trees, y=Error)) +
geom_line(aes(color=Type))+ggtitle("forest of 10% variance")
#tree optimization for 20% tree
ggplot(data=oob.error.fangorn, aes(x=Trees, y=Error)) +
geom_line(aes(color=Type))+ggtitle("forest of 20% variance")
set.seed(25000)
#BAROOM dont be hasty now
oldForest <- randomForest( drug∼.,data=tree105  ,mtry=3,ntree=4000)
set.seed(25000)
#BAROOM dont be hasty now
oldForest <- randomForest( drug∼.,data=tree105  ,mtry=3,ntree=4000)
oldForest
mirkwood <- randomForest( drug∼.,data=tree110  ,mtry=3,ntree=2000)
mirkwood
fangorn <- randomForest( drug∼.,data=tree120  ,mtry=3,ntree=2500)
fangorn
#tree optimization for 5% tree
oob.error.oldForest <- data.frame(
Trees=rep(1:nrow(oldForest$err.rate), times=3),
Type=rep(c("OOB", "1", "0"), each=nrow(oldForest$err.rate)),
Error=c(oldForest$err.rate[,"OOB"],
oldForest$err.rate[,"1"],
oldForest$err.rate[,"0"]))
#tree optimization for 10% tree
oob.error.mirkwood <- data.frame(
Trees=rep(1:nrow(mirkwood$err.rate), times=3),
Type=rep(c("OOB", "1", "0"), each=nrow(mirkwood$err.rate)),
Error=c(mirkwood$err.rate[,"OOB"],
mirkwood$err.rate[,"1"],
mirkwood$err.rate[,"0"]))
#tree optimization for 20% tree
oob.error.fangorn<- data.frame(
Trees=rep(1:nrow(fangorn$err.rate), times=3),
Type=rep(c("OOB", "1", "0"), each=nrow(fangorn$err.rate)),
Error=c(fangorn$err.rate[,"OOB"],
fangorn$err.rate[,"1"],
fangorn$err.rate[,"0"]))
#tree optimization plot for 5% tree
ggplot(data=oob.error.oldForest, aes(x=Trees, y=Error)) +
geom_line(aes(color=Type))+ggtitle("forest of 5% variance")
#tree optimization plot for 10% tree
ggplot(data=oob.error.mirkwood, aes(x=Trees, y=Error)) +
geom_line(aes(color=Type))+ggtitle("forest of 10% variance")
#tree optimization for 20% tree
ggplot(data=oob.error.fangorn, aes(x=Trees, y=Error)) +
geom_line(aes(color=Type))+ggtitle("forest of 20% variance")
set.seed(25000)
#split optimization
oob.values <- vector(length=20)
for(i in 1:20) {
temp.model <- randomForest(drug ~ ., data=tree105, mtry=i, ntree=4500)
oob.values[i] <- temp.model$err.rate[nrow(temp.model$err.rate),1]
}
oob.values
oob.values <- vector(length=20)
for(i in 1:20) {
temp.model <- randomForest(drug ~ ., data=tree110, mtry=i, ntree=1500)
oob.values[i] <- temp.model$err.rate[nrow(temp.model$err.rate),1]
}
oob.values
oob.values <- vector(length=20)
for(i in 1:20) {
temp.model <- randomForest(drug ~ ., data=tree105, mtry=i, ntree=2000)
oob.values[i] <- temp.model$err.rate[nrow(temp.model$err.rate),1]
}
oob.values
set.seed(25000)
#BAROOM dont be hasty now
oldForest <- randomForest( drug∼.,data=tree205  ,mtry=3,ntree=4500)
oldForest
mirkwood <- randomForest( drug∼.,data=tree210  ,mtry=12,ntree=1500)
mirkwood
fangorn <- randomForest( drug∼.,data=tree220  ,mtry=3,ntree=2000)
set.seed(25000)
#BAROOM dont be hasty now
oldForest2 <- randomForest( drug∼.,data=tree205  ,mtry=3,ntree=4500)
oldForest2
mirkwood2 <- randomForest( drug∼.,data=tree210  ,mtry=12,ntree=1500)
mirkwood2
fangorn2 <- randomForest( drug∼.,data=tree220  ,mtry=3,ntree=2000)
fangorn2
#tree optimization for 5% tree
oob.error.oldForest2 <- data.frame(
Trees=rep(1:nrow(oldForest2$err.rate), times=3),
Type=rep(c("OOB", "1", "0"), each=nrow(oldForest2$err.rate)),
Error=c(oldForest2$err.rate[,"OOB"],
oldForest2$err.rate[,"1"],
oldForest2$err.rate[,"0"]))
#tree optimization for 10% tree
oob.error.mirkwood2 <- data.frame(
Trees=rep(1:nrow(mirkwood2$err.rate), times=3),
Type=rep(c("OOB", "1", "0"), each=nrow(mirkwood2$err.rate)),
Error=c(mirkwood2$err.rate[,"OOB"],
mirkwood2$err.rate[,"1"],
mirkwood2$err.rate[,"0"]))
#tree optimization for 20% tree
oob.error.fangorn2<- data.frame(
Trees=rep(1:nrow(fangorn2$err.rate), times=3),
Type=rep(c("OOB", "1", "0"), each=nrow(fangorn2$err.rate)),
Error=c(fangorn2$err.rate[,"OOB"],
fangorn2$err.rate[,"1"],
fangorn2$err.rate[,"0"]))
#tree optimization plot for 5% tree
ggplot(data=oob.error.oldForest2, aes(x=Trees, y=Error)) +
geom_line(aes(color=Type))+ggtitle("forest of 5% variance")
#tree optimization plot for 10% tree
ggplot(data=oob.error.mirkwood2, aes(x=Trees, y=Error)) +
geom_line(aes(color=Type))+ggtitle("forest of 10% variance")
#tree optimization for 20% tree
ggplot(data=oob.error.fangorn2, aes(x=Trees, y=Error)) +
geom_line(aes(color=Type))+ggtitle("forest of 20% variance")
set.seed(25000)
#BAROOM dont be hasty now
oldForest2 <- randomForest( drug∼.,data=tree205  ,mtry=3,ntree=500)
oldForest2
mirkwood2 <- randomForest( drug∼.,data=tree210  ,mtry=3,ntree=500)
mirkwood2
fangorn2 <- randomForest( drug∼.,data=tree220  ,mtry=3,ntree=500)
fangorn2
#tree optimization for 5% tree
oob.error.oldForest2 <- data.frame(
Trees=rep(1:nrow(oldForest2$err.rate), times=3),
Type=rep(c("OOB", "1", "0"), each=nrow(oldForest2$err.rate)),
Error=c(oldForest2$err.rate[,"OOB"],
oldForest2$err.rate[,"1"],
oldForest2$err.rate[,"0"]))
#tree optimization for 10% tree
oob.error.mirkwood2 <- data.frame(
Trees=rep(1:nrow(mirkwood2$err.rate), times=3),
Type=rep(c("OOB", "1", "0"), each=nrow(mirkwood2$err.rate)),
Error=c(mirkwood2$err.rate[,"OOB"],
mirkwood2$err.rate[,"1"],
mirkwood2$err.rate[,"0"]))
#tree optimization for 20% tree
oob.error.fangorn2<- data.frame(
Trees=rep(1:nrow(fangorn2$err.rate), times=3),
Type=rep(c("OOB", "1", "0"), each=nrow(fangorn2$err.rate)),
Error=c(fangorn2$err.rate[,"OOB"],
fangorn2$err.rate[,"1"],
fangorn2$err.rate[,"0"]))
#tree optimization plot for 5% tree
ggplot(data=oob.error.oldForest2, aes(x=Trees, y=Error)) +
geom_line(aes(color=Type))+ggtitle("forest of 5% variance")
#tree optimization plot for 10% tree
ggplot(data=oob.error.mirkwood2, aes(x=Trees, y=Error)) +
geom_line(aes(color=Type))+ggtitle("forest of 10% variance")
#tree optimization for 20% tree
ggplot(data=oob.error.fangorn2, aes(x=Trees, y=Error)) +
geom_line(aes(color=Type))+ggtitle("forest of 20% variance")
set.seed(25000)
#split optimization
oob.values <- vector(length=20)
for(i in 1:20) {
temp.model <- randomForest(drug ~ ., data=tree205, mtry=i, ntree=500)
oob.values[i] <- temp.model$err.rate[nrow(temp.model$err.rate),1]
}
oob.values
oob.values <- vector(length=20)
for(i in 1:20) {
temp.model <- randomForest(drug ~ ., data=tree210, mtry=i, ntree=500)
oob.values[i] <- temp.model$err.rate[nrow(temp.model$err.rate),1]
}
oob.values
oob.values <- vector(length=20)
for(i in 1:20) {
temp.model <- randomForest(drug ~ ., data=tree220, mtry=i, ntree=500)
oob.values[i] <- temp.model$err.rate[nrow(temp.model$err.rate),1]
}
oob.values
set.seed(25000)
#BAROOM dont be hasty now
oldForest <- randomForest( drug∼.,data=tree105  ,mtry=3,ntree=500)
oldForest
mirkwood <- randomForest( drug∼.,data=tree110  ,mtry=3,ntree=500)
mirkwood
fangorn <- randomForest( drug∼.,data=tree120  ,mtry=3,ntree=500)
fangorn
#straping the first column of the truth set to the tree
tree120<-cbind(drug=truth_set[,1],root20)
tree120<-clean_names(tree120)
tree120$drug<-factor(tree120$drug)
tree110<-cbind(drug=truth_set[,1],root10)
tree110<-clean_names(tree110)
tree110$drug<-factor(tree110$drug)
tree105<-cbind(drug=truth_set[,1],root5)
tree105<-clean_names(tree105)
tree105$drug<-factor(tree105$drug)
set.seed(25000)
#BAROOM dont be hasty now
oldForest <- randomForest( drug∼.,data=tree105  ,mtry=3,ntree=500)
oldForest
mirkwood <- randomForest( drug∼.,data=tree110  ,mtry=3,ntree=500)
mirkwood
fangorn <- randomForest( drug∼.,data=tree120  ,mtry=3,ntree=500)
fangorn
#tree optimization for 5% tree
oob.error.oldForest <- data.frame(
Trees=rep(1:nrow(oldForest$err.rate), times=3),
Type=rep(c("OOB", "1", "0"), each=nrow(oldForest$err.rate)),
Error=c(oldForest$err.rate[,"OOB"],
oldForest$err.rate[,"1"],
oldForest$err.rate[,"0"]))
#tree optimization for 10% tree
oob.error.mirkwood <- data.frame(
Trees=rep(1:nrow(mirkwood$err.rate), times=3),
Type=rep(c("OOB", "1", "0"), each=nrow(mirkwood$err.rate)),
Error=c(mirkwood$err.rate[,"OOB"],
mirkwood$err.rate[,"1"],
mirkwood$err.rate[,"0"]))
#tree optimization for 20% tree
oob.error.fangorn<- data.frame(
Trees=rep(1:nrow(fangorn$err.rate), times=3),
Type=rep(c("OOB", "1", "0"), each=nrow(fangorn$err.rate)),
Error=c(fangorn$err.rate[,"OOB"],
fangorn$err.rate[,"1"],
fangorn$err.rate[,"0"]))
#tree optimization plot for 5% tree
ggplot(data=oob.error.oldForest, aes(x=Trees, y=Error)) +
geom_line(aes(color=Type))+ggtitle("forest of 5% variance")
#tree optimization plot for 10% tree
ggplot(data=oob.error.mirkwood, aes(x=Trees, y=Error)) +
geom_line(aes(color=Type))+ggtitle("forest of 10% variance")
#tree optimization for 20% tree
ggplot(data=oob.error.fangorn, aes(x=Trees, y=Error)) +
geom_line(aes(color=Type))+ggtitle("forest of 20% variance")
set.seed(25000)
#BAROOM dont be hasty now
oldForest <- randomForest( drug∼.,data=tree105  ,mtry=3,ntree=1000)
oldForest
mirkwood <- randomForest( drug∼.,data=tree110  ,mtry=3,ntree=1000)
mirkwood
fangorn <- randomForest( drug∼.,data=tree120  ,mtry=3,ntree=1000)
fangorn
#tree optimization for 5% tree
oob.error.oldForest <- data.frame(
Trees=rep(1:nrow(oldForest$err.rate), times=3),
Type=rep(c("OOB", "1", "0"), each=nrow(oldForest$err.rate)),
Error=c(oldForest$err.rate[,"OOB"],
oldForest$err.rate[,"1"],
oldForest$err.rate[,"0"]))
#tree optimization for 10% tree
oob.error.mirkwood <- data.frame(
Trees=rep(1:nrow(mirkwood$err.rate), times=3),
Type=rep(c("OOB", "1", "0"), each=nrow(mirkwood$err.rate)),
Error=c(mirkwood$err.rate[,"OOB"],
mirkwood$err.rate[,"1"],
mirkwood$err.rate[,"0"]))
#tree optimization for 20% tree
oob.error.fangorn<- data.frame(
Trees=rep(1:nrow(fangorn$err.rate), times=3),
Type=rep(c("OOB", "1", "0"), each=nrow(fangorn$err.rate)),
Error=c(fangorn$err.rate[,"OOB"],
fangorn$err.rate[,"1"],
fangorn$err.rate[,"0"]))
#tree optimization plot for 5% tree
ggplot(data=oob.error.oldForest, aes(x=Trees, y=Error)) +
geom_line(aes(color=Type))+ggtitle("forest of 5% variance")
#tree optimization plot for 10% tree
ggplot(data=oob.error.mirkwood, aes(x=Trees, y=Error)) +
geom_line(aes(color=Type))+ggtitle("forest of 10% variance")
#tree optimization for 20% tree
ggplot(data=oob.error.fangorn, aes(x=Trees, y=Error)) +
geom_line(aes(color=Type))+ggtitle("forest of 20% variance")
set.seed(25000)
#BAROOM dont be hasty now
oldForest <- randomForest( drug∼.,data=tree105  ,mtry=3,ntree=1500)
oldForest
mirkwood <- randomForest( drug∼.,data=tree110  ,mtry=3,ntree=1000)
mirkwood
fangorn <- randomForest( drug∼.,data=tree120  ,mtry=3,ntree=1500)
fangorn
#tree optimization for 5% tree
oob.error.oldForest <- data.frame(
Trees=rep(1:nrow(oldForest$err.rate), times=3),
Type=rep(c("OOB", "1", "0"), each=nrow(oldForest$err.rate)),
Error=c(oldForest$err.rate[,"OOB"],
oldForest$err.rate[,"1"],
oldForest$err.rate[,"0"]))
#tree optimization for 10% tree
oob.error.mirkwood <- data.frame(
Trees=rep(1:nrow(mirkwood$err.rate), times=3),
Type=rep(c("OOB", "1", "0"), each=nrow(mirkwood$err.rate)),
Error=c(mirkwood$err.rate[,"OOB"],
mirkwood$err.rate[,"1"],
mirkwood$err.rate[,"0"]))
#tree optimization for 20% tree
oob.error.fangorn<- data.frame(
Trees=rep(1:nrow(fangorn$err.rate), times=3),
Type=rep(c("OOB", "1", "0"), each=nrow(fangorn$err.rate)),
Error=c(fangorn$err.rate[,"OOB"],
fangorn$err.rate[,"1"],
fangorn$err.rate[,"0"]))
#tree optimization plot for 5% tree
ggplot(data=oob.error.oldForest, aes(x=Trees, y=Error)) +
geom_line(aes(color=Type))+ggtitle("forest of 5% variance")
#tree optimization plot for 10% tree
ggplot(data=oob.error.mirkwood, aes(x=Trees, y=Error)) +
geom_line(aes(color=Type))+ggtitle("forest of 10% variance")
#tree optimization for 20% tree
ggplot(data=oob.error.fangorn, aes(x=Trees, y=Error)) +
geom_line(aes(color=Type))+ggtitle("forest of 20% variance")
set.seed(25000)
#BAROOM dont be hasty now
oldForest <- randomForest( drug∼.,data=tree105  ,mtry=3,ntree=1500)
oldForest
mirkwood <- randomForest( drug∼.,data=tree110  ,mtry=3,ntree=1000)
mirkwood
fangorn <- randomForest( drug∼.,data=tree120  ,mtry=3,ntree=1500)
fangorn
set.seed(25000)
#tree optimization for 5% tree
oob.error.oldForest <- data.frame(
Trees=rep(1:nrow(oldForest$err.rate), times=3),
Type=rep(c("OOB", "1", "0"), each=nrow(oldForest$err.rate)),
Error=c(oldForest$err.rate[,"OOB"],
oldForest$err.rate[,"1"],
oldForest$err.rate[,"0"]))
#tree optimization for 10% tree
oob.error.mirkwood <- data.frame(
Trees=rep(1:nrow(mirkwood$err.rate), times=3),
Type=rep(c("OOB", "1", "0"), each=nrow(mirkwood$err.rate)),
Error=c(mirkwood$err.rate[,"OOB"],
mirkwood$err.rate[,"1"],
mirkwood$err.rate[,"0"]))
#tree optimization for 20% tree
oob.error.fangorn<- data.frame(
Trees=rep(1:nrow(fangorn$err.rate), times=3),
Type=rep(c("OOB", "1", "0"), each=nrow(fangorn$err.rate)),
Error=c(fangorn$err.rate[,"OOB"],
fangorn$err.rate[,"1"],
fangorn$err.rate[,"0"]))
#tree optimization plot for 5% tree
ggplot(data=oob.error.oldForest, aes(x=Trees, y=Error)) +
geom_line(aes(color=Type))+ggtitle("forest of 5% variance")
#tree optimization plot for 10% tree
ggplot(data=oob.error.mirkwood, aes(x=Trees, y=Error)) +
geom_line(aes(color=Type))+ggtitle("forest of 10% variance")
#tree optimization for 20% tree
ggplot(data=oob.error.fangorn, aes(x=Trees, y=Error)) +
geom_line(aes(color=Type))+ggtitle("forest of 20% variance")
set.seed(25000)
#BAROOM dont be hasty now
oldForest <- randomForest( drug∼.,data=tree105  ,mtry=3,ntree=2000)
oldForest
mirkwood <- randomForest( drug∼.,data=tree110  ,mtry=3,ntree=2000)
mirkwood
fangorn <- randomForest( drug∼.,data=tree120  ,mtry=3,ntree=2000)
fangorn
set.seed(25000)
#tree optimization for 5% tree
oob.error.oldForest <- data.frame(
Trees=rep(1:nrow(oldForest$err.rate), times=3),
Type=rep(c("OOB", "1", "0"), each=nrow(oldForest$err.rate)),
Error=c(oldForest$err.rate[,"OOB"],
oldForest$err.rate[,"1"],
oldForest$err.rate[,"0"]))
#tree optimization for 10% tree
oob.error.mirkwood <- data.frame(
Trees=rep(1:nrow(mirkwood$err.rate), times=3),
Type=rep(c("OOB", "1", "0"), each=nrow(mirkwood$err.rate)),
Error=c(mirkwood$err.rate[,"OOB"],
mirkwood$err.rate[,"1"],
mirkwood$err.rate[,"0"]))
#tree optimization for 20% tree
oob.error.fangorn<- data.frame(
Trees=rep(1:nrow(fangorn$err.rate), times=3),
Type=rep(c("OOB", "1", "0"), each=nrow(fangorn$err.rate)),
Error=c(fangorn$err.rate[,"OOB"],
fangorn$err.rate[,"1"],
fangorn$err.rate[,"0"]))
#tree optimization plot for 5% tree
ggplot(data=oob.error.oldForest, aes(x=Trees, y=Error)) +
geom_line(aes(color=Type))+ggtitle("forest of 5% variance")
#tree optimization plot for 10% tree
ggplot(data=oob.error.mirkwood, aes(x=Trees, y=Error)) +
geom_line(aes(color=Type))+ggtitle("forest of 10% variance")
#tree optimization for 20% tree
ggplot(data=oob.error.fangorn, aes(x=Trees, y=Error)) +
geom_line(aes(color=Type))+ggtitle("forest of 20% variance")
set.seed(25000)
#split optimization
oob.values <- vector(length=20)
for(i in 1:20) {
temp.model <- randomForest(drug ~ ., data=tree105, mtry=i, ntree=2000)
oob.values[i] <- temp.model$err.rate[nrow(temp.model$err.rate),1]
}
oob.values
oob.values <- vector(length=20)
for(i in 1:20) {
temp.model <- randomForest(drug ~ ., data=tree110, mtry=i, ntree=2000)
oob.values[i] <- temp.model$err.rate[nrow(temp.model$err.rate),1]
}
oob.values
oob.values <- vector(length=20)
for(i in 1:20) {
temp.model <- randomForest(drug ~ ., data=tree120, mtry=i, ntree=2000)
oob.values[i] <- temp.model$err.rate[nrow(temp.model$err.rate),1]
}
oob.values
